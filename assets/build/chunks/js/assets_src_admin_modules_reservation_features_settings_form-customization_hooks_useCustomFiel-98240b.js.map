{"version":3,"file":"chunks/js/assets_src_admin_modules_reservation_features_settings_form-customization_hooks_useCustomFiel-98240b.js","mappings":"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","sources":["webpack://wp-cafe/./assets/src/admin/modules/reservation/features/settings/form-customization/hooks/useCustomFieldModal.ts"],"sourcesContent":["/**\n * WordPress Dependencies\n */\nimport { useState, useEffect, useCallback } from \"@wordpress/element\";\nexport const useCustomFieldModal = ({ editingField, onCreate, onUpdate, openExternal, onOpenChangeExternal, }) => {\n    const [internalOpen, setInternalOpen] = useState(false);\n    const open = typeof openExternal === \"boolean\" ? openExternal : internalOpen;\n    const setOpen = (next) => {\n        if (onOpenChangeExternal)\n            onOpenChangeExternal(next);\n        else\n            setInternalOpen(next);\n    };\n    const [fieldDraft, setFieldDraft] = useState(() => {\n        var _a, _b;\n        return ({\n            type: (editingField === null || editingField === void 0 ? void 0 : editingField.type) || \"text\",\n            required: (_a = editingField === null || editingField === void 0 ? void 0 : editingField.required) !== null && _a !== void 0 ? _a : true,\n            label: (editingField === null || editingField === void 0 ? void 0 : editingField.label) || \"\",\n            placeholder: (editingField === null || editingField === void 0 ? void 0 : editingField.placeholder) || \"\",\n            options: ((_b = editingField === null || editingField === void 0 ? void 0 : editingField.options) === null || _b === void 0 ? void 0 : _b.length) &&\n                [\"select\", \"radio\", \"checkbox\"].includes(editingField.type)\n                ? editingField.options\n                : [{ label: \"\", value: \"\" }],\n        });\n    });\n    // Keep draft synced when editing target changes\n    useEffect(() => {\n        var _a, _b;\n        if (!editingField)\n            return;\n        setFieldDraft({\n            type: editingField.type,\n            required: (_a = editingField.required) !== null && _a !== void 0 ? _a : true,\n            label: editingField.label,\n            placeholder: editingField.placeholder || \"\",\n            options: ((_b = editingField.options) === null || _b === void 0 ? void 0 : _b.length) &&\n                [\"select\", \"radio\", \"checkbox\"].includes(editingField.type)\n                ? editingField.options\n                : [{ label: \"\", value: \"\" }],\n        });\n    }, [editingField]);\n    const reset = useCallback(() => {\n        var _a, _b;\n        if (editingField) {\n            setFieldDraft({\n                type: editingField.type,\n                required: (_a = editingField.required) !== null && _a !== void 0 ? _a : true,\n                label: editingField.label,\n                placeholder: editingField.placeholder || \"\",\n                options: ((_b = editingField.options) === null || _b === void 0 ? void 0 : _b.length) &&\n                    [\"select\", \"radio\", \"checkbox\"].includes(editingField.type)\n                    ? editingField.options\n                    : [{ label: \"\", value: \"\" }],\n            });\n        }\n        else {\n            setFieldDraft({\n                type: \"text\",\n                required: true,\n                label: \"\",\n                placeholder: \"\",\n                options: [{ label: \"\", value: \"\" }],\n            });\n        }\n    }, [editingField]);\n    const isOptionType = [\"select\", \"radio\", \"checkbox\"].includes(fieldDraft.type);\n    const canSubmit = !isOptionType || fieldDraft.options.some((o) => o.label.trim());\n    const handleOptionsChange = (next) => setFieldDraft((prev) => (Object.assign(Object.assign({}, prev), { options: next })));\n    const submit = () => {\n        if (!canSubmit)\n            return;\n        const payload = {\n            type: fieldDraft.type,\n            required: fieldDraft.required,\n            label: fieldDraft.label.trim(),\n            placeholder: fieldDraft.placeholder.trim(),\n            options: isOptionType\n                ? fieldDraft.options\n                    .filter((o) => o.label.trim())\n                    .map((o) => (Object.assign(Object.assign({}, o), { label: o.label.trim() })))\n                : undefined,\n        };\n        if (editingField && onUpdate)\n            onUpdate(editingField.id, payload);\n        else\n            onCreate(payload);\n        setOpen(false);\n        if (!editingField)\n            reset();\n    };\n    const showPlaceholder = ![\"visual_table\", \"food_menu\"].includes(fieldDraft.type);\n    return {\n        open,\n        setOpen,\n        fieldDraft,\n        setFieldDraft,\n        isOptionType,\n        canSubmit,\n        submit,\n        handleOptionsChange,\n        showPlaceholder,\n    };\n};\nexport default useCustomFieldModal;\n"],"names":["useState","useEffect","useCallback","useCustomFieldModal","_ref","editingField","onCreate","onUpdate","openExternal","onOpenChangeExternal","_useState","_useState2","_slicedToArray","internalOpen","setInternalOpen","open","setOpen","next","_useState3","_a","_b","type","required","label","placeholder","options","length","includes","value","_useState4","fieldDraft","setFieldDraft","reset","isOptionType","canSubmit","some","o","trim","handleOptionsChange","prev","Object","assign","submit","payload","filter","map","undefined","id","showPlaceholder"],"sourceRoot":""}